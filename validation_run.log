2025-10-26 23:50:15,296 - __main__ - INFO - ValidationRunner initialized
2025-10-26 23:50:15,296 - __main__ - INFO -   Detector config: config.json
2025-10-26 23:50:15,296 - __main__ - INFO -   Output directory: validation/results
2025-10-26 23:50:15,296 - __main__ - INFO - ============================================================
2025-10-26 23:50:15,296 - __main__ - INFO - STAGE 3 VALIDATION WORKFLOW
2025-10-26 23:50:15,296 - __main__ - INFO - ============================================================
2025-10-26 23:50:15,296 - __main__ - INFO - 
[Step 1/3] Initializing test harness...
2025-10-26 23:50:15,304 - validation.performance_profiler - INFO - Performance profiler initialized
2025-10-26 23:50:15,304 - validation.stage3_test_harness - INFO - Initialized Stage3TestHarness with config: config.json
2025-10-26 23:50:15,304 - validation.stage3_test_harness - INFO - Performance profiler enabled
2025-10-26 23:50:15,304 - __main__ - INFO - Test harness initialized successfully
2025-10-26 23:50:15,304 - __main__ - INFO - 
[Step 2/3] Executing validation workflow...
2025-10-26 23:50:15,304 - validation.stage3_test_harness - INFO - ============================================================
2025-10-26 23:50:15,304 - validation.stage3_test_harness - INFO - Starting Stage 3 Validation
2025-10-26 23:50:15,304 - validation.stage3_test_harness - INFO - ============================================================
2025-10-26 23:50:15,304 - validation.stage3_test_harness - INFO - Loading validation dataset...
2025-10-26 23:50:15,305 - validation.stage3_test_harness - INFO - Loaded 50 images from 3 DAF sites
2025-10-26 23:50:15,305 - validation.stage3_test_harness - INFO - Using first image as baseline: 00012351-a55a-49ca-9789-365c682e6493.jpg
2025-10-26 23:50:15,533 - validation.stage3_test_harness - INFO - Baseline set successfully
2025-10-26 23:50:15,533 - validation.stage3_test_harness - INFO - 
Processing 50 images...
2025-10-26 23:50:15,533 - validation.stage3_test_harness - INFO - Processing image 1/50: 00012351-a55a-49ca-9789-365c682e6493.jpg
2025-10-26 23:50:15,580 - validation.stage3_test_harness - INFO - Processing image 2/50: 02e3c814-ab11-4148-bf9f-bf29623dc043.jpg
2025-10-26 23:50:15,614 - validation.stage3_test_harness - INFO - Processing image 3/50: 05d94617-3af4-4cf6-8ee2-30604b9b36cd.jpg
2025-10-26 23:50:15,644 - validation.stage3_test_harness - INFO - Processing image 4/50: 08e729fc-473b-47b2-8c08-340c5ead4405.jpg
2025-10-26 23:50:15,678 - validation.stage3_test_harness - INFO - Processing image 5/50: 0ba2910a-b6c4-4fcd-99b5-ff562015d299.jpg
2025-10-26 23:50:15,715 - validation.stage3_test_harness - INFO - Processing image 6/50: 0e5145d9-69ca-4191-a755-1f94767b630a.jpg
2025-10-26 23:50:15,751 - validation.stage3_test_harness - INFO - Processing image 7/50: 11548c7d-f39e-47ff-bc17-967127393558.jpg
2025-10-26 23:50:15,787 - validation.stage3_test_harness - INFO - Processing image 8/50: 144abfcf-ce47-4822-baeb-058d41e0ef6f.jpg
2025-10-26 23:50:15,830 - validation.stage3_test_harness - INFO - Processing image 9/50: 1706df1f-be77-4d8d-ad83-15a3926ea6c3.jpg
2025-10-26 23:50:15,860 - validation.stage3_test_harness - INFO - Processing image 10/50: 19d225ad-8a35-4e98-9adf-baaba6cb12c2.jpg
2025-10-26 23:50:15,895 - validation.stage3_test_harness - INFO - Progress: 10/50 images processed (20%)
2025-10-26 23:50:15,895 - validation.stage3_test_harness - INFO - Processing image 11/50: 1cc52f0a-c2a7-4324-b511-1de9a5384480.jpg
2025-10-26 23:50:15,936 - validation.stage3_test_harness - INFO - Processing image 12/50: 1fb33c60-87f1-456b-aae4-23e4d1463e11.jpg
2025-10-26 23:50:15,982 - validation.stage3_test_harness - INFO - Processing image 13/50: 22813d97-9916-4b84-9970-b440d6790541.jpg
2025-10-26 23:50:16,023 - validation.stage3_test_harness - INFO - Processing image 14/50: 252a5305-4b09-4b3d-9172-7a599add499d.jpg
2025-10-26 23:50:16,055 - validation.stage3_test_harness - INFO - Processing image 15/50: 306cc8ec-f9ce-486a-b5be-85b16518a70b.jpg
2025-10-26 23:50:16,089 - validation.stage3_test_harness - INFO - Processing image 16/50: 479a817b-d66e-4fb2-93be-fb3be6d46954.jpg
2025-10-26 23:50:16,126 - validation.stage3_test_harness - INFO - Processing image 17/50: 5ebb565b-ac16-4513-a1cc-8c8ea21efbe5.jpg
2025-10-26 23:50:16,169 - validation.stage3_test_harness - INFO - Processing image 18/50: 757d2024-aa52-4abc-9812-8ae5912cbad7.jpg
2025-10-26 23:50:16,203 - validation.stage3_test_harness - INFO - Processing image 19/50: 8c988300-8353-46e9-ac90-4443835e8525.jpg
2025-10-26 23:50:16,240 - validation.stage3_test_harness - INFO - Processing image 20/50: a5647098-9144-4a0b-a44e-1651dd0ae6b8.jpg
2025-10-26 23:50:16,273 - validation.stage3_test_harness - INFO - Progress: 20/50 images processed (40%)
2025-10-26 23:50:16,273 - validation.stage3_test_harness - INFO - Processing image 21/50: bbf21b68-54c0-4acd-aa90-fa6c3147a3ee.jpg
2025-10-26 23:50:16,302 - validation.stage3_test_harness - INFO - Processing image 22/50: d255bedf-fb9e-401a-9264-88902b8167eb.jpg
2025-10-26 23:50:16,336 - validation.stage3_test_harness - INFO - Processing image 23/50: e8e3ef55-e95c-47f2-9c28-8a5420d023cc.jpg
2025-10-26 23:50:16,371 - validation.stage3_test_harness - INFO - Processing image 24/50: 000236a5-838d-4646-aa8f-94fe84abe0eb.jpg
2025-10-26 23:50:16,412 - validation.stage3_test_harness - INFO - Processing image 25/50: 04fe1c1b-a647-45a9-9959-46ea065ef07c.jpg
2025-10-26 23:50:16,459 - validation.stage3_test_harness - INFO - Processing image 26/50: 0a738d9c-032d-4c83-8a4f-4897956206ee.jpg
2025-10-26 23:50:16,498 - validation.stage3_test_harness - INFO - Processing image 27/50: 0fd7beec-6d58-4708-a5e6-2863f1b515d7.jpg
2025-10-26 23:50:16,539 - validation.stage3_test_harness - INFO - Processing image 28/50: 152f5821-6588-4ab2-a467-19bbaf252cba.jpg
2025-10-26 23:50:16,575 - validation.stage3_test_harness - INFO - Processing image 29/50: 1a755619-9427-48b1-9c3d-2bace9adf125.jpg
2025-10-26 23:50:16,611 - validation.stage3_test_harness - INFO - Processing image 30/50: 1fe67c6b-5739-477e-8556-241213d3af02.jpg
2025-10-26 23:50:16,649 - validation.stage3_test_harness - INFO - Progress: 30/50 images processed (60%)
2025-10-26 23:50:16,649 - validation.stage3_test_harness - INFO - Processing image 31/50: 253aec86-c177-4a67-ad8f-7b331731f2c0.jpg
2025-10-26 23:50:16,682 - validation.stage3_test_harness - INFO - Processing image 32/50: 363c8a16-0c4b-4b59-a822-cafaf62057f3.jpg
2025-10-26 23:50:16,717 - validation.stage3_test_harness - INFO - Processing image 33/50: 4bc28422-b31d-4711-8f1e-f66b59e67b67.jpg
2025-10-26 23:50:16,751 - validation.stage3_test_harness - INFO - Processing image 34/50: 62e70230-9384-4956-b06b-b6960524155f.jpg
2025-10-26 23:50:16,791 - validation.stage3_test_harness - INFO - Processing image 35/50: 79777293-5691-4d6b-8bac-96c23f764343.jpg
2025-10-26 23:50:16,823 - validation.stage3_test_harness - INFO - Processing image 36/50: 91590f60-660d-4862-9d5a-f07513481aee.jpg
2025-10-26 23:50:16,854 - validation.stage3_test_harness - INFO - Processing image 37/50: a653ac6b-aa51-4bf9-9926-6c39564eb60b.jpg
2025-10-26 23:50:16,890 - validation.stage3_test_harness - INFO - Processing image 38/50: bc3f385c-364d-46f7-8d08-f6b316dd7f7f.jpg
2025-10-26 23:50:16,921 - validation.stage3_test_harness - INFO - Processing image 39/50: d3acc349-8406-4600-bbd6-b4daad56c727.jpg
2025-10-26 23:50:16,951 - validation.stage3_test_harness - INFO - Processing image 40/50: e96a4bb5-6b63-4b24-83db-87f58abc6d11.jpg
2025-10-26 23:50:16,987 - validation.stage3_test_harness - INFO - Progress: 40/50 images processed (80%)
2025-10-26 23:50:16,987 - validation.stage3_test_harness - INFO - Processing image 41/50: 00018752-d1e8-44fb-9cba-5107c18eb386.jpg
2025-10-26 23:50:17,034 - validation.stage3_test_harness - INFO - Processing image 42/50: 03bdea17-401b-4726-ae52-2e843398e46e.jpg
2025-10-26 23:50:17,071 - validation.stage3_test_harness - INFO - Processing image 43/50: 0779d7e2-cf0d-47c8-9efe-071377b73c2d.jpg
2025-10-26 23:50:17,104 - validation.stage3_test_harness - INFO - Processing image 44/50: 0b7aa50a-020f-4833-8903-35b589e4dd41.jpg
2025-10-26 23:50:17,139 - validation.stage3_test_harness - INFO - Processing image 45/50: 0f61aaa2-ff8c-48d6-b2d4-80b60a616353.jpg
2025-10-26 23:50:17,173 - validation.stage3_test_harness - INFO - Processing image 46/50: 133bcb78-b5fd-42bd-880b-feb02c23b1a3.jpg
2025-10-26 23:50:17,212 - validation.stage3_test_harness - INFO - Processing image 47/50: 1707d300-2774-4ba8-ae45-0f371bc46eeb.jpg
2025-10-26 23:50:17,251 - validation.stage3_test_harness - INFO - Processing image 48/50: 1b118518-3c66-4126-a6c8-50071820c835.jpg
2025-10-26 23:50:17,288 - validation.stage3_test_harness - INFO - Processing image 49/50: 1f1e16d7-ef9c-4d80-a54d-814877545969.jpg
2025-10-26 23:50:17,323 - validation.stage3_test_harness - INFO - Processing image 50/50: 230ff83a-c6fb-4965-8cb4-ace9d09dbaf6.jpg
2025-10-26 23:50:17,366 - validation.stage3_test_harness - INFO - Progress: 50/50 images processed (100%)
2025-10-26 23:50:17,366 - validation.stage3_test_harness - INFO - 
Detection complete! Total time: 2.06s
2025-10-26 23:50:17,366 - validation.stage3_test_harness - INFO - 
============================================================
2025-10-26 23:50:17,366 - validation.stage3_test_harness - INFO - VALIDATION RESULTS
2025-10-26 23:50:17,366 - validation.stage3_test_harness - INFO - ============================================================
2025-10-26 23:50:17,366 - validation.stage3_test_harness - INFO - 
Overall Performance:
2025-10-26 23:50:17,366 - validation.stage3_test_harness - INFO -   Total Images: 50
2025-10-26 23:50:17,366 - validation.stage3_test_harness - INFO -   Accuracy: 0.0200 (2.00%)
2025-10-26 23:50:17,366 - validation.stage3_test_harness - INFO -   Detection Errors: 0
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO -   Execution Time: 2.06s
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO - 
Confusion Matrix:
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO -   True Positives (TP):  0
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO -   True Negatives (TN):  1
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO -   False Positives (FP): 49
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO -   False Negatives (FN): 0
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO - 
Error Rates:
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO -   False Positive Rate: 0.9800
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO -   False Negative Rate: 0.0000
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO - 
Per-Site Breakdown:
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO -   of_jerusalem    - Accuracy: 0.0435 (1/23 correct)
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO -   carmit          - Accuracy: 0.0000 (0/17 correct)
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO -   gad             - Accuracy: 0.0000 (0/10 correct)
2025-10-26 23:50:17,367 - validation.stage3_test_harness - INFO - ============================================================
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO - 
============================================================
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO - PERFORMANCE PROFILING RESULTS
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO - ============================================================
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO - 
FPS (Frames Per Second):
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Average FPS: 36.2163 fps
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Min FPS: 26.6895 fps
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Max FPS: 46.0285 fps
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Target (≥1/60 Hz): 0.0167 fps
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Status: ✓ PASS
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO - 
Memory Usage:
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Peak Memory: 185.56 MB
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Mean Memory: 185.38 MB
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Std Dev: 0.10 MB
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Target (≤500 MB): 500 MB
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Status: ✓ PASS
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO - 
CPU Utilization:
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Mean CPU: 380.73%
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Peak CPU: 514.30%
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO - 
Detection Time:
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Mean: 28.08 ms
2025-10-26 23:50:17,374 - validation.performance_profiler - INFO -   Std Dev: 3.76 ms
2025-10-26 23:50:17,375 - validation.performance_profiler - INFO - 
Total Images Processed: 50
2025-10-26 23:50:17,375 - validation.performance_profiler - INFO - ============================================================
2025-10-26 23:50:17,375 - __main__ - INFO - 
✅ Validation execution complete
2025-10-26 23:50:17,375 - __main__ - INFO -   Processed: 50 images
2025-10-26 23:50:17,375 - __main__ - INFO -   Accuracy: 0.0200 (2.00%)
2025-10-26 23:50:17,375 - __main__ - INFO -   Errors: 0
2025-10-26 23:50:17,375 - __main__ - INFO - 
[Step 3/3] Generating validation reports...
2025-10-26 23:50:17,376 - __main__ - ERROR - Report generation failed: Object of type bool is not JSON serializable
Traceback (most recent call last):
  File "/home/thh3/personal/cam-shift-detector/validation/run_stage3_validation.py", line 188, in _generate_reports
    json_generator.generate(metrics, performance_metrics, go_no_go, json_path)
  File "/home/thh3/personal/cam-shift-detector/validation/report_generator.py", line 167, in generate
    json.dump(report, f, indent=2)
  File "/home/thh3/.local/share/uv/python/cpython-3.11.11-linux-x86_64-gnu/lib/python3.11/json/__init__.py", line 179, in dump
    for chunk in iterable:
  File "/home/thh3/.local/share/uv/python/cpython-3.11.11-linux-x86_64-gnu/lib/python3.11/json/encoder.py", line 432, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "/home/thh3/.local/share/uv/python/cpython-3.11.11-linux-x86_64-gnu/lib/python3.11/json/encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "/home/thh3/.local/share/uv/python/cpython-3.11.11-linux-x86_64-gnu/lib/python3.11/json/encoder.py", line 406, in _iterencode_dict
    yield from chunks
  File "/home/thh3/.local/share/uv/python/cpython-3.11.11-linux-x86_64-gnu/lib/python3.11/json/encoder.py", line 439, in _iterencode
    o = _default(o)
        ^^^^^^^^^^^
  File "/home/thh3/.local/share/uv/python/cpython-3.11.11-linux-x86_64-gnu/lib/python3.11/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bool is not JSON serializable
2025-10-26 23:50:17,378 - __main__ - WARNING - Report generation failed, but validation completed
2025-10-26 23:50:17,378 - __main__ - WARNING - 
⚠️ Validation completed with errors
